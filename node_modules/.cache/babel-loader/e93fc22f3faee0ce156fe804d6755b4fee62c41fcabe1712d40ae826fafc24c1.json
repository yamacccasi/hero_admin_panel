{"ast":null,"code":"/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('express-urlrewrite');\nvar toRegexp = require('path-to-regexp');\nvar URL = require('url');\n\n/**\n * Expose `expose`.\n */\n\nmodule.exports = rewrite;\n\n/**\n * Rewrite `src` to `dst`.\n *\n * @param {String|RegExp} src\n * @param {String} dst\n * @return {Function}\n * @api public\n */\n\nfunction rewrite(src, dst) {\n  var keys = [],\n    re,\n    map;\n  if (dst) {\n    re = toRegexp(src, keys);\n    map = toMap(keys);\n    debug('rewrite %s -> %s    %s', src, dst, re);\n  } else {\n    debug('rewrite current route -> %s', src);\n  }\n  return function (req, res, next) {\n    var orig = req.url;\n    var m;\n    if (dst) {\n      m = re.exec(orig);\n      if (!m) {\n        return next();\n      }\n    }\n    req.url = req.originalUrl = (dst || src).replace(/\\$(\\d+)|(?::(\\w+))/g, function (_, n, name) {\n      if (name) {\n        if (m) return m[map[name].index + 1];else return req.params[name];\n      } else if (m) {\n        return m[n];\n      } else {\n        return req.params[n];\n      }\n    });\n    debug('rewrite %s -> %s', orig, req.url);\n    if (req.url.indexOf('?') > 0) {\n      req.query = URL.parse(req.url, true).query;\n      debug('rewrite updated new query', req.query);\n    }\n    if (dst) next();else next('route');\n  };\n}\n\n/**\n * Turn params array into a map for quick lookup.\n *\n * @param {Array} params\n * @return {Object}\n * @api private\n */\n\nfunction toMap(params) {\n  var map = {};\n  params.forEach(function (param, i) {\n    param.index = i;\n    map[param.name] = param;\n  });\n  return map;\n}","map":{"version":3,"names":["debug","require","toRegexp","URL","module","exports","rewrite","src","dst","keys","re","map","toMap","req","res","next","orig","url","m","exec","originalUrl","replace","_","n","name","index","params","indexOf","query","parse","forEach","param","i"],"sources":["/Users/maxympetlyak/Desktop/REDUX/hero_admin_panel_template/node_modules/express-urlrewrite/index.js"],"sourcesContent":["\n/**\n * Module dependencies.\n */\n\n var debug = require('debug')('express-urlrewrite');\n var toRegexp = require('path-to-regexp');\n var URL = require('url');\n\n/**\n * Expose `expose`.\n */\n\nmodule.exports = rewrite;\n\n/**\n * Rewrite `src` to `dst`.\n *\n * @param {String|RegExp} src\n * @param {String} dst\n * @return {Function}\n * @api public\n */\n\nfunction rewrite(src, dst) {\n  var keys = [], re, map;\n\n  if (dst) {\n    re = toRegexp(src, keys);\n    map = toMap(keys);\n    debug('rewrite %s -> %s    %s', src, dst, re);\n  } else {\n    debug('rewrite current route -> %s', src);\n  }\n\n  return function(req, res, next) {\n    var orig = req.url;\n    var m;\n    if (dst) {\n      m = re.exec(orig);\n      if (!m) {\n        return next();\n      }\n    }\n    req.url = req.originalUrl = (dst || src).replace(/\\$(\\d+)|(?::(\\w+))/g, function(_, n, name) {\n      if (name) {\n        if (m) return m[map[name].index + 1];\n        else return req.params[name];\n      } else if (m) {\n        return m[n];\n      } else {\n        return req.params[n];\n      }\n    });\n    debug('rewrite %s -> %s', orig, req.url);\n    if (req.url.indexOf('?') > 0) {\n      req.query = URL.parse(req.url, true).query;\n      debug('rewrite updated new query', req.query);\n    }\n    if (dst) next();\n    else next('route');\n  }\n}\n\n/**\n * Turn params array into a map for quick lookup.\n *\n * @param {Array} params\n * @return {Object}\n * @api private\n */\n\nfunction toMap(params) {\n  var map = {};\n\n  params.forEach(function(param, i) {\n    param.index = i;\n    map[param.name] = param;\n  });\n\n  return map;\n}\n"],"mappings":"AACA;AACA;AACA;;AAEC,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC,CAAC,oBAAoB,CAAC;AAClD,IAAIC,QAAQ,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AACxC,IAAIE,GAAG,GAAGF,OAAO,CAAC,KAAK,CAAC;;AAEzB;AACA;AACA;;AAEAG,MAAM,CAACC,OAAO,GAAGC,OAAO;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,OAAOA,CAACC,GAAG,EAAEC,GAAG,EAAE;EACzB,IAAIC,IAAI,GAAG,EAAE;IAAEC,EAAE;IAAEC,GAAG;EAEtB,IAAIH,GAAG,EAAE;IACPE,EAAE,GAAGR,QAAQ,CAACK,GAAG,EAAEE,IAAI,CAAC;IACxBE,GAAG,GAAGC,KAAK,CAACH,IAAI,CAAC;IACjBT,KAAK,CAAC,wBAAwB,EAAEO,GAAG,EAAEC,GAAG,EAAEE,EAAE,CAAC;EAC/C,CAAC,MAAM;IACLV,KAAK,CAAC,6BAA6B,EAAEO,GAAG,CAAC;EAC3C;EAEA,OAAO,UAASM,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;IAC9B,IAAIC,IAAI,GAAGH,GAAG,CAACI,GAAG;IAClB,IAAIC,CAAC;IACL,IAAIV,GAAG,EAAE;MACPU,CAAC,GAAGR,EAAE,CAACS,IAAI,CAACH,IAAI,CAAC;MACjB,IAAI,CAACE,CAAC,EAAE;QACN,OAAOH,IAAI,CAAC,CAAC;MACf;IACF;IACAF,GAAG,CAACI,GAAG,GAAGJ,GAAG,CAACO,WAAW,GAAG,CAACZ,GAAG,IAAID,GAAG,EAAEc,OAAO,CAAC,qBAAqB,EAAE,UAASC,CAAC,EAAEC,CAAC,EAAEC,IAAI,EAAE;MAC3F,IAAIA,IAAI,EAAE;QACR,IAAIN,CAAC,EAAE,OAAOA,CAAC,CAACP,GAAG,CAACa,IAAI,CAAC,CAACC,KAAK,GAAG,CAAC,CAAC,CAAC,KAChC,OAAOZ,GAAG,CAACa,MAAM,CAACF,IAAI,CAAC;MAC9B,CAAC,MAAM,IAAIN,CAAC,EAAE;QACZ,OAAOA,CAAC,CAACK,CAAC,CAAC;MACb,CAAC,MAAM;QACL,OAAOV,GAAG,CAACa,MAAM,CAACH,CAAC,CAAC;MACtB;IACF,CAAC,CAAC;IACFvB,KAAK,CAAC,kBAAkB,EAAEgB,IAAI,EAAEH,GAAG,CAACI,GAAG,CAAC;IACxC,IAAIJ,GAAG,CAACI,GAAG,CAACU,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;MAC5Bd,GAAG,CAACe,KAAK,GAAGzB,GAAG,CAAC0B,KAAK,CAAChB,GAAG,CAACI,GAAG,EAAE,IAAI,CAAC,CAACW,KAAK;MAC1C5B,KAAK,CAAC,2BAA2B,EAAEa,GAAG,CAACe,KAAK,CAAC;IAC/C;IACA,IAAIpB,GAAG,EAAEO,IAAI,CAAC,CAAC,CAAC,KACXA,IAAI,CAAC,OAAO,CAAC;EACpB,CAAC;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASH,KAAKA,CAACc,MAAM,EAAE;EACrB,IAAIf,GAAG,GAAG,CAAC,CAAC;EAEZe,MAAM,CAACI,OAAO,CAAC,UAASC,KAAK,EAAEC,CAAC,EAAE;IAChCD,KAAK,CAACN,KAAK,GAAGO,CAAC;IACfrB,GAAG,CAACoB,KAAK,CAACP,IAAI,CAAC,GAAGO,KAAK;EACzB,CAAC,CAAC;EAEF,OAAOpB,GAAG;AACZ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}