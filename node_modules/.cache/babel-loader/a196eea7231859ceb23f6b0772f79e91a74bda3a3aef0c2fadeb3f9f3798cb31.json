{"ast":null,"code":"var _s = $RefreshSig$();\nimport { createSlice, createAsyncThunk, createEntityAdapter, createSelector } from \"@reduxjs/toolkit\";\nimport { useHttp } from \"../../hooks/http.hook\";\nconst heroesAdapter = createEntityAdapter();\nconst initialState = heroesAdapter.getInitialState({\n  heroesLoadingStatus: 'idle'\n});\nexport const fetchHeroes = _s(createAsyncThunk('heroes/fetchHeroes', _s(async () => {\n  _s();\n  const {\n    request\n  } = useHttp();\n  return await request('http://localhost:3001/heroes');\n}, \"Cd6rTTFIaDkCOxqWEjU2WwhZI/U=\", false, function () {\n  return [useHttp];\n})), \"Cd6rTTFIaDkCOxqWEjU2WwhZI/U=\", false, function () {\n  return [useHttp];\n});\nconst heroesSlice = createSlice({\n  name: 'heroes',\n  initialState,\n  reducers: {\n    heroCreated: (state, action) => {\n      heroesAdapter.addOne(state, action.payload);\n    },\n    heroDeleted: (state, action) => {\n      heroesAdapter.removeOne(state, action.payload);\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchHeroes.pending, state => {\n      state.heroesLoadingStatus = 'loading';\n    }).addCase(fetchHeroes.fulfilled, (state, action) => {\n      state.heroesLoadingStatus = 'idle';\n      heroesAdapter.setAll(state, action.payload);\n    }).addCase(fetchHeroes.rejected, state => {\n      state.heroesLoadingStatus = 'error';\n    }).addDefaultCase(() => {});\n  }\n});\nconst {\n  actions,\n  reducer\n} = heroesSlice;\nexport default reducer;\nconst {\n  selectAll\n} = heroesAdapter.getSelectors(state => state.heroes);\nconst filteredHeroesSelector = createSelector(state => state.filters.activeFilter, selectAll, (filter, heroes) => {\n  if (filter === 'all') {\n    return heroes;\n  } else {\n    return heroes.filter(item => item.element === filter);\n  }\n});\nexport const {\n  heroCreated,\n  heroDeleted,\n  heroesFetched,\n  heroesFetching,\n  heroesFetchingError\n} = actions;","map":{"version":3,"names":["createSlice","createAsyncThunk","createEntityAdapter","createSelector","useHttp","heroesAdapter","initialState","getInitialState","heroesLoadingStatus","fetchHeroes","_s","request","heroesSlice","name","reducers","heroCreated","state","action","addOne","payload","heroDeleted","removeOne","extraReducers","builder","addCase","pending","fulfilled","setAll","rejected","addDefaultCase","actions","reducer","selectAll","getSelectors","heroes","filteredHeroesSelector","filters","activeFilter","filter","item","element","heroesFetched","heroesFetching","heroesFetchingError"],"sources":["/Users/maxympetlyak/Desktop/REDUX/hero_admin_panel_template/src/components/heroesList/heroesSlice.js"],"sourcesContent":["import { createSlice,createAsyncThunk, createEntityAdapter, createSelector } from \"@reduxjs/toolkit\";\nimport {useHttp} from \"../../hooks/http.hook\";\n\n\nconst heroesAdapter = createEntityAdapter()\n\nconst initialState = heroesAdapter.getInitialState({\n    heroesLoadingStatus : 'idle'\n\n});\n\nexport const fetchHeroes = createAsyncThunk(\n    'heroes/fetchHeroes',\n    async () => {\n        const {request} = useHttp();\n            return await request('http://localhost:3001/heroes')\n    }\n)\n\nconst heroesSlice = createSlice({\n        name: 'heroes',\n        initialState,\n        reducers: {\n            heroCreated: (state, action) => {\n                heroesAdapter.addOne(state,action.payload);\n            },\n            heroDeleted: (state, action) => {\n                heroesAdapter.removeOne(state,action.payload);\n            }\n        },\n    extraReducers: (builder) => {\n            builder\n                .addCase(fetchHeroes.pending,state => {state.heroesLoadingStatus = 'loading'})\n                .addCase(fetchHeroes.fulfilled, (state,action) => {\n                    state.heroesLoadingStatus = 'idle'\n                    heroesAdapter.setAll(state, action.payload);\n                })\n                .addCase(fetchHeroes.rejected, state => {\n                    state.heroesLoadingStatus = 'error'\n                })\n                .addDefaultCase(() => {})\n\n    }\n    }\n);\n\nconst {actions,reducer} = heroesSlice;\n\nexport default reducer;\n\nconst {selectAll} = heroesAdapter.getSelectors(state => state.heroes)\n\n\n     const filteredHeroesSelector = createSelector(\n        (state) => state.filters.activeFilter,\n        selectAll,\n        (filter,heroes) => {\n            if(filter === 'all') {\n                return heroes\n            } else {\n                return heroes.filter(item => item.element === filter);\n            }\n        }\n    )\n\nexport const {\n    heroCreated,\n    heroDeleted,\n    heroesFetched,\n    heroesFetching,\n    heroesFetchingError\n} = actions;"],"mappings":";AAAA,SAASA,WAAW,EAACC,gBAAgB,EAAEC,mBAAmB,EAAEC,cAAc,QAAQ,kBAAkB;AACpG,SAAQC,OAAO,QAAO,uBAAuB;AAG7C,MAAMC,aAAa,GAAGH,mBAAmB,CAAC,CAAC;AAE3C,MAAMI,YAAY,GAAGD,aAAa,CAACE,eAAe,CAAC;EAC/CC,mBAAmB,EAAG;AAE1B,CAAC,CAAC;AAEF,OAAO,MAAMC,WAAW,GAAAC,EAAA,CAAGT,gBAAgB,CACvC,oBAAoB,EAAAS,EAAA,CACpB,YAAY;EAAAA,EAAA;EACR,MAAM;IAACC;EAAO,CAAC,GAAGP,OAAO,CAAC,CAAC;EACvB,OAAO,MAAMO,OAAO,CAAC,8BAA8B,CAAC;AAC5D,CAAC;EAAA,QAFqBP,OAAO;AAAA,EAGjC,CAAC;EAAA,QAHyBA,OAAO;AAAA,EAGhC;AAED,MAAMQ,WAAW,GAAGZ,WAAW,CAAC;EACxBa,IAAI,EAAE,QAAQ;EACdP,YAAY;EACZQ,QAAQ,EAAE;IACNC,WAAW,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC5BZ,aAAa,CAACa,MAAM,CAACF,KAAK,EAACC,MAAM,CAACE,OAAO,CAAC;IAC9C,CAAC;IACDC,WAAW,EAAEA,CAACJ,KAAK,EAAEC,MAAM,KAAK;MAC5BZ,aAAa,CAACgB,SAAS,CAACL,KAAK,EAACC,MAAM,CAACE,OAAO,CAAC;IACjD;EACJ,CAAC;EACLG,aAAa,EAAGC,OAAO,IAAK;IACpBA,OAAO,CACFC,OAAO,CAACf,WAAW,CAACgB,OAAO,EAACT,KAAK,IAAI;MAACA,KAAK,CAACR,mBAAmB,GAAG,SAAS;IAAA,CAAC,CAAC,CAC7EgB,OAAO,CAACf,WAAW,CAACiB,SAAS,EAAE,CAACV,KAAK,EAACC,MAAM,KAAK;MAC9CD,KAAK,CAACR,mBAAmB,GAAG,MAAM;MAClCH,aAAa,CAACsB,MAAM,CAACX,KAAK,EAAEC,MAAM,CAACE,OAAO,CAAC;IAC/C,CAAC,CAAC,CACDK,OAAO,CAACf,WAAW,CAACmB,QAAQ,EAAEZ,KAAK,IAAI;MACpCA,KAAK,CAACR,mBAAmB,GAAG,OAAO;IACvC,CAAC,CAAC,CACDqB,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;EAErC;AACA,CACJ,CAAC;AAED,MAAM;EAACC,OAAO;EAACC;AAAO,CAAC,GAAGnB,WAAW;AAErC,eAAemB,OAAO;AAEtB,MAAM;EAACC;AAAS,CAAC,GAAG3B,aAAa,CAAC4B,YAAY,CAACjB,KAAK,IAAIA,KAAK,CAACkB,MAAM,CAAC;AAGhE,MAAMC,sBAAsB,GAAGhC,cAAc,CACzCa,KAAK,IAAKA,KAAK,CAACoB,OAAO,CAACC,YAAY,EACrCL,SAAS,EACT,CAACM,MAAM,EAACJ,MAAM,KAAK;EACf,IAAGI,MAAM,KAAK,KAAK,EAAE;IACjB,OAAOJ,MAAM;EACjB,CAAC,MAAM;IACH,OAAOA,MAAM,CAACI,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,OAAO,KAAKF,MAAM,CAAC;EACzD;AACJ,CACJ,CAAC;AAEL,OAAO,MAAM;EACTvB,WAAW;EACXK,WAAW;EACXqB,aAAa;EACbC,cAAc;EACdC;AACJ,CAAC,GAAGb,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}